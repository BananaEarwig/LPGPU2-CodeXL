#MAKE FILE FOR CodeXLGpuProfiler
DEPTH = ../..
include $(DEPTH)/Build/Common.mk

TARGET = $(BACKEND_OUTPUT_DIR)/CodeXLGpuProfiler$(TARGET_SUFFIX)

ADDL_DEFINES = -DNON_BLOCKING_TIMEOUT -DAMD_INTERNAL_BUILD
ADDL_CFLAGS = $(HSAFDN_CFLAGS)
ADDL_LINKFLAGS = -Wl,--export-dynamic

INCLUDES = \
	-I./ \
	-I../SYCLProfiler/ComputeCppIntegration/include \
	-I$(BACKEND_COMMON_DIR) \
	-I$(BACKEND_CLCOMMON_DIR) \
	-I$(COMMON_PROJ_DIR) \
	-I$(DEVICEINFO_DIR) \
	-isystem$(BOOST_DIR) \
	-isystem$(CAL_DIR)/include \
	-isystem$(ATI_STREAM_SDK_DIR)/include \
	-isystem$(HSA_DIR)/include \
	-I$(DYNAMICLIBRARYMODULE_DIR) \
	-I$(TSINGLETON_DIR) \
	-I$(UTF8CPP_DIR) \
	-I$(GPU_PERF_API_DIR) \
	-I$(GPUPERFAPIUTILS_DIR) \
	-I$(GPU_THREAD_TRACE_API_DIR) \
	-I$(AMDTMUTEX_DIR)

STATIC_LIBS = \
	$(BOOST_LIB_DIR)/libboost_chrono.a \
	$(BOOST_LIB_DIR)/libboost_date_time.a \
	$(BOOST_LIB_DIR)/libboost_filesystem.a \
	$(BOOST_LIB_DIR)/libboost_program_options.a \
	$(BOOST_LIB_DIR)/libboost_system.a \
	$(BOOST_LIB_DIR)/libboost_thread.a \
	$(BOOST_LIB_DIR)/libboost_wave.a

LIBPATH = \
	-L/usr/lib \
	$(COMMON_LIB_PATHS)

STATIC_LIBS = \
       $(BOOST_LIB_DIR)/libboost_chrono.a \
       $(BOOST_LIB_DIR)/libboost_date_time.a \
       $(BOOST_LIB_DIR)/libboost_filesystem.a \
       $(BOOST_LIB_DIR)/libboost_program_options.a \
       $(BOOST_LIB_DIR)/libboost_system.a \
       $(BOOST_LIB_DIR)/libboost_thread.a \
       $(BOOST_LIB_DIR)/libboost_wave.a

LIBS = \
	$(CLCOMMON_LIBS) \
	$(COMMON_LIBS) \
	$(FRAMEWORK_LIBS) \
	$(STANDARD_LIBS) \
	-lpthread

OBJS = \
	./$(OBJ_DIR)/Main.o \
	./$(OBJ_DIR)/Analyze.o \
	./$(OBJ_DIR)/ParseCmdLine.o \
	./$(OBJ_DIR)/OccupancyChart.o \
	./$(OBJ_DIR)/OccupancyUtils.o \
	./$(OBJ_DIR)/AnalyzerHTMLUtils.o \
	./$(OBJ_DIR)/APISummarizer.o \
	./$(OBJ_DIR)/CLContextSummarizer.o \
	./$(OBJ_DIR)/CLKernelSummarizer.o \
	./$(OBJ_DIR)/CLMemSummarizer.o \
	./$(OBJ_DIR)/CLObjRefTracker.o \
	./$(OBJ_DIR)/CLAPIAnalyzer.o \
	./$(OBJ_DIR)/CLAPIRules.o \
	./$(OBJ_DIR)/SimpleCLAPIRuleManager.o \
	./$(OBJ_DIR)/CLRetCodeAnalyzer.o \
	./$(OBJ_DIR)/CLDeprecatedFunctionAnalyzer.o \
	./$(OBJ_DIR)/CLDataTransferAnalyzer.o \
	./$(OBJ_DIR)/CLSyncAnalyzer.o \
	./$(OBJ_DIR)/CLAtpFile.o \
	./$(OBJ_DIR)/SYCLAtpFile.o \
	./$(OBJ_DIR)/SYCLProfileEvents.o \
	./$(OBJ_DIR)/HSAAtpFile.o \
	./$(OBJ_DIR)/HSAAPIAnalyzer.o \
	./$(OBJ_DIR)/HSARetCodeAnalyzer.o \
	./$(OBJ_DIR)/HSARetCodeAnalyzerHelper.o \
	./$(OBJ_DIR)/HSAObjRefTracker.o \
	./$(OBJ_DIR)/HSAKernelSummarizer.o \
	./$(OBJ_DIR)/HSAFunctionDefsUtils.o \
	./$(OBJ_DIR)/AtpFile.o \
	./$(OBJ_DIR)/PerfMarkerAtpFile.o \
	./$(OBJ_DIR)/CLOccupancyFile.o \
	./$(OBJ_DIR)/StackTraceAtpFile.o \

include $(DEPTH)/Build/CommonTargets.mk

$(OBJ_DIR)/%.o: ../sanalyze/AutoGenerated/%.cpp
	$(BUILD_SRC)

# END OF MAKE FILE
